<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
            <title>测试</title>
            <meta name="viewport"
                content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
                <meta name="apple-mobile-web-app-capable" content="yes">
                    <meta name="apple-mobile-web-app-status-bar-style" content="black">
                        
                        <!--标准mui.css-->
                        <link rel="stylesheet" href="css/mui.min.css">
                            <style>
                                input, button, .mui-btn {
                                    margin-top: 10px;
                                    margin-left: 10px;
                                }
                            
                            
                            
                            
                            
                                </style>
    </head>
    
    <body>
        <div class="mui-content">
            <div class="mui-content-padded">
                <button type="button" class="mui-btn mui-btn-outlined" onclick="closewindow()">
                    关闭页面
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="userChoose()">
                     人员选择
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="setTitlebarVisible()">
                    显示标题栏
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="setTitlebarInvisible()">
                    隐藏标题栏
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="setTitlebarBgColor()">
                    设置标题栏背景颜色
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="setTitlebarBgImage()">
                    设置标题栏背景图片
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitleBarTextView()">
                    设置修改标题
                </button>
                
                
                </br>
                </br>
                
                
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="registerBack()">
                    绑定Back按钮
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="unRegisterBack()">
                    解绑Back按钮
                </button>
                
                
                </br>
                </br>
                
                
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="registerRightBtn()">
                    设置标题栏右边按钮图片并触发js事件
                </button>
                
                
                </br>
                </br>
                
                
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="startWindow()">
                    新建WebViewActivity
                </button>
                <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                    onclick="skipWindow()">
                    新建WebViewActivity并结束当前activity
                </button>
            </div>
            
        </div>
    </body>
    <script src="js/mui.min.js"></script>
    <script>
        mui.init({
                 swipeBack:true //启用右滑关闭功能
                 });
                 
                 var bpmbridget = getJsBridge();
                 
                 function closewindow() {
                     bpmbridget.call("close");
                 }
    
                 function setTitle() {
                    bpmbridget.call("setTitle",{title: "我被修改了"});
                }
               //人员选择
                  function userChoose(){
                      bpmbridget.call("userChoose",{selectNum: 5, users:[{id:"1",name:"张三"},{id:"2",name:"李四"}]}, function(result){
                                    alert(result);
                                      });
                  
                 }
    
                // 显示标题栏
                function setTitlebarVisible() {
                    bpmbridget.call("setTitlebarVisible",{visible:"YES"}, function(result){
                                                                               alert(result);
                                                                               });
                     }
                 // 隐藏标题栏
                 function setTitlebarInvisible() {
                         bpmbridget.call("setTitlebarVisible",{visible:"NO"}, function(result){
                                                                               alert(result);
                                                                               });
                     }
                // 设置标题栏背景颜色
                function setTitlebarBgColor() {
                        bpmbridget.call("setTitlebarBgColor",{bgColor: "#3892FF"}, function(result){
                                                                             alert(result);
                                                                             });
                }
                                                                         
                 // 设置标题栏背景图片
                 function setTitlebarBgImage() {
                         bpmbridget.call("setTitlebarBgImage",{bgImgUrl: "https://58.215.198.210:9997/bpmapp/bpm_toolbar_bg.png"}, function(result){
                                                 alert(result);
                                                 });
                 }
    
                 // 设置标题
                 function setTitleBarTextView() {
                         bpmbridget.call("setTitlebarTextView",{title: "XXXX", fontSize: "19", fontColor: "#3892FF"}, function(result){
                                         alert(result);
                                         });
                 }
    
                //设置标题栏右边按钮图片并触发js事件
                function registerRightBtn() {
                    bpmbridget.call("bindRightBtn", {imageUrl: "http://58.215.198.212:8080/images/logo/logo.png",callback: "rightJs"}, function(result) {
                                    alert(result);
                                    });
                }
                function rightJs() {
                    alert(1);
                }
    
                 // 新建窗口
                 function startWindow() {
                         bpmbridget.call("startWindow",{url: "https://58.215.198.210:9997/bpmapp/newjswebview.html", title: "hello"});
                 }
    
                 // 新建窗口并结束当前窗口
                 function skipWindow() {
                         bpmbridget.call("skipWindow",{url: "https://58.215.198.210:9997/bpmapp/newjswebview.html", title: "hello"});
                 }
               
               
               function showUserChoose(r,l){
                   var json = eval('(' + l + ')');
                   bpmbridget.call("userChoose",{selectNum: r, users:json}, function(result){
                                   alert(result);
                                   });
                  
                       }
        </script>
</html>
